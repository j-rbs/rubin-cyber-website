name: HTML Validation

on:
  pull_request:
    branches: [ main ]

jobs:
  validate:
    name: HTML5 Validator
    runs-on: ubuntu-latest

    steps:
      - name: Checkout repo
        uses: actions/checkout@v4

      # Use a stable major tag so you don't chase patch numbers
      - name: Run HTML5 Validator
        uses: Cyb3r-Jak3/html5validator-action@v0
        with:
          root: .
          # Example ignores if you add vendor folders later:
          # blacklist: "assets/vendor"

      - name: Check links
        uses: lycheeverse/lychee-action@v1
        with:
          args: >
            --no-progress
            --request-timeout 20
            --retry-wait-time 2
            --retry-count 2
            --exclude-mail
            .
        env:
          GITHUB_TOKEN: ${{ secrets.GITHUB_TOKEN }}
