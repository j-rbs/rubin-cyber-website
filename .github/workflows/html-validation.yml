name: HTML Validation

on:
  pull_request:
    branches: [ main ]

jobs:
  validate:
    name: HTML5 Validator
    runs-on: ubuntu-latest

    steps:
      - name: Checkout repo
        uses: actions/checkout@v4

      # Validate all .html files in the repo root (and subfolders if you add any)
      - name: Run HTML5 Validator
        uses: Cyb3r-Jak3/html5validator-action@v0.5.1
        with:
          root: .
          # You can ignore vendor or external folders if you add them later, e.g.:
          # blacklist: "assets/vendor"

      # Optional: fail if any external links are broken (kept simple)
      - name: Check links
        uses: lycheeverse/lychee-action@v1
        with:
          args: >
            --no-progress
            --request-timeout 20
            --retry-wait-time 2
            --retry-count 2
            --exclude-mail
            .
        env:
          GITHUB_TOKEN: ${{ secrets.GITHUB_TOKEN }}
